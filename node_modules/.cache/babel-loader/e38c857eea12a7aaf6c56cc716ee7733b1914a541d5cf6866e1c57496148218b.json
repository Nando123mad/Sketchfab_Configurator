{"ast":null,"code":"import _slicedToArray from\"/Users/nando/Documents/GitHub/Sketchfab_Configurator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useEffect,useState}from'react';import{useIsMount}from'../useIsMount';//*********REFRENCE**************/\n//props.AccessorySelection[]\n//AccessorieID(int), ObjectID(int), TextureChange(bool), UID(int)\n//*********REFRENCE**************/\nexport var ModelChange=function ModelChange(props,apiRef,nodes,itemsCount,opticsCount,lightCount,suppressorCount){//Function that runs and returns a bool on initial mount\nvar isMount=useIsMount();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showing=_useState2[0],setShowing=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),opticSelection=_useState4[0],setOpticSelection=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),suppressorSelection=_useState6[0],setSuppressorSelection=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),lightSelection=_useState8[0],setLightSelection=_useState8[1];useEffect(function(){if(isMount){// console.log('Mounting in modelChange')\n}else{var m=itemsCount.current;//all items\nvar o=opticsCount.current;//optics items\nvar s=suppressorCount.current;//suppressor items\nvar l=lightCount.current;//light items\n// console.log(\"Optics:\" + o);\n// console.log(\"Light:\" + l);\n// console.log(\"Suppressor:\" + s);\nif(props.AccessorySelection[2]){//Check to see if its a texture change or model change\n// console.log('Only texture will be changed or if resetconfig (models will be hidden)')\nif(props.AccessorySelection[3]===1000000){//Reset Config\nfor(var i in m){apiRef.current.hide(m[i]);}setShowing(false);}}else{//This is a model change\n// console.log(m)\n// console.log(props)\n// console.log(props.AccessorySelection[3])\nif(props.AccessorySelection[3].toString().startsWith(\"7\")){//Optics item\nconsole.log(\"Optics Logic\");// console.log('test')\n// console.log(o)\n// console.log(props.AccessorySelection[3])\n// console.log((props.AccessorySelection[3] % 10)*2)\nvar Selection=props.AccessorySelection[3]%10*2;for(var i in o){if(opticSelection==Selection){//currently selected\napiRef.current.hide(o[i]);setOpticSelection(null);}else{if(Selection==i){//Show Optics \napiRef.current.show(o[i]);setOpticSelection(Selection);}else if(Selection==i-1){//Show Optics second\napiRef.current.show(o[i]);}else{//Hide non optics\napiRef.current.hide(o[i]);}}}}else if(props.AccessorySelection[3].toString().startsWith(\"8\")){//Suppressor item\nconsole.log(\"Suppressor Logic\");var Selection=props.AccessorySelection[3]%10*2;for(var j in o){if(suppressorSelection==Selection){//currently selected\napiRef.current.hide(s[j]);setSuppressorSelection(null);}else{if(Selection==j){//Show Suppressor\napiRef.current.show(s[j]);setSuppressorSelection(Selection);}else if(Selection==j-1){//Show Suppressor\napiRef.current.show(s[j]);}else{//Hide non suppressor\napiRef.current.hide(s[j]);}}}}else if(props.AccessorySelection[3].toString().startsWith(\"9\")){//light item\nconsole.log(\"Flashlight Logic\");var Selection=props.AccessorySelection[3]%10*2;for(var k in o){if(lightSelection==Selection){//currently selected\nconsole.log('currently selected');apiRef.current.hide(l[k]);setLightSelection(null);}else{if(Selection==k){//Show Flashlight\napiRef.current.show(l[k]);setLightSelection(Selection);}else if(Selection==k-1){//Show Flashlight\napiRef.current.show(l[k]);}else{//Hide non flashlight\napiRef.current.hide(l[k]);}}}}}}},[props.AccessorySelection]);};","map":{"version":3,"names":["useRef","useEffect","useState","useIsMount","ModelChange","props","apiRef","nodes","itemsCount","opticsCount","lightCount","suppressorCount","isMount","_useState","_useState2","_slicedToArray","showing","setShowing","_useState3","_useState4","opticSelection","setOpticSelection","_useState5","_useState6","suppressorSelection","setSuppressorSelection","_useState7","_useState8","lightSelection","setLightSelection","m","current","o","s","l","AccessorySelection","i","hide","toString","startsWith","console","log","Selection","show","j","k"],"sources":["/Users/nando/Documents/GitHub/Sketchfab_Configurator/src/Componets/3DComponents/ModelChange.jsx"],"sourcesContent":["import { useRef, useEffect, useState } from 'react';\nimport { useIsMount } from '../useIsMount';\n\n//*********REFRENCE**************/\n    //props.AccessorySelection[]\n    //AccessorieID(int), ObjectID(int), TextureChange(bool), UID(int)\n//*********REFRENCE**************/\n\nexport const ModelChange = ( props, apiRef, nodes, itemsCount, opticsCount, lightCount, suppressorCount ) => {\n    //Function that runs and returns a bool on initial mount\n    const isMount = useIsMount();\n    const [showing, setShowing] = useState(false);\n    const [ opticSelection, setOpticSelection ] = useState(null)\n    const [ suppressorSelection, setSuppressorSelection ] = useState(null)\n    const [ lightSelection, setLightSelection ] = useState(null)\n\n    useEffect(() => {\n        if(isMount){\n            // console.log('Mounting in modelChange')\n        }else{\n            var m = itemsCount.current;//all items\n            var o = opticsCount.current;//optics items\n            var s = suppressorCount.current;//suppressor items\n            var l = lightCount.current;//light items\n            \n            // console.log(\"Optics:\" + o);\n            // console.log(\"Light:\" + l);\n            // console.log(\"Suppressor:\" + s);\n\n            if(props.AccessorySelection[2]){ //Check to see if its a texture change or model change\n                // console.log('Only texture will be changed or if resetconfig (models will be hidden)')\n                if(props.AccessorySelection[3] === 1000000){//Reset Config\n                    for (var i in m) {\n                        apiRef.current.hide(m[i]);\n                    }\n                    setShowing(false);\n                }\n            }else{//This is a model change\n\n                // console.log(m)\n                // console.log(props)\n                // console.log(props.AccessorySelection[3])\n\n                if(props.AccessorySelection[3].toString().startsWith(\"7\")){ //Optics item\n                    console.log(\"Optics Logic\")\n                    // console.log('test')\n                    // console.log(o)\n                    // console.log(props.AccessorySelection[3])\n                    // console.log((props.AccessorySelection[3] % 10)*2)\n                    var Selection = (props.AccessorySelection[3] % 10)*2;\n                    for (var i in o) {\n                        if(opticSelection == Selection){ //currently selected\n                            apiRef.current.hide(o[i]);\n                            setOpticSelection(null)\n                        }else{\n                            if(Selection == i){\n                                //Show Optics \n                                apiRef.current.show(o[i]);\n                                setOpticSelection(Selection)\n                            }else if(Selection == i-1 ){\n                                //Show Optics second\n                                apiRef.current.show(o[i]);\n                            }else{\n                                //Hide non optics\n                                apiRef.current.hide(o[i]);\n                            }\n                        }\n                    }\n                }else if(props.AccessorySelection[3].toString().startsWith(\"8\")){ //Suppressor item\n                    console.log(\"Suppressor Logic\")\n                    var Selection = (props.AccessorySelection[3] % 10)*2;\n                    for (var j in o) {\n                        if(suppressorSelection == Selection){ //currently selected\n                            apiRef.current.hide(s[j]);\n                            setSuppressorSelection(null)\n                        }else{\n                            if(Selection == j){\n                                //Show Suppressor\n                                apiRef.current.show(s[j]);\n                                setSuppressorSelection(Selection)\n                            }else if(Selection == j-1 ){\n                                //Show Suppressor\n                                apiRef.current.show(s[j]);\n                            }else{\n                                //Hide non suppressor\n                                apiRef.current.hide(s[j]);\n                            }\n                        }\n                    }\n                }else if(props.AccessorySelection[3].toString().startsWith(\"9\")){ //light item\n                    console.log(\"Flashlight Logic\")\n                    var Selection = (props.AccessorySelection[3] % 10)*2;\n                    for (var k in o) {\n                        if(lightSelection == Selection){ //currently selected\n                            console.log('currently selected')\n                            apiRef.current.hide(l[k]);\n                            setLightSelection(null)\n                        }else{\n                            if(Selection == k){\n                                //Show Flashlight\n                                apiRef.current.show(l[k]);\n                                setLightSelection(Selection)\n                            }else if(Selection == k-1 ){\n                                //Show Flashlight\n                                apiRef.current.show(l[k]);\n                            }else{\n                                //Hide non flashlight\n                                apiRef.current.hide(l[k]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n      }, [props.AccessorySelection]);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}